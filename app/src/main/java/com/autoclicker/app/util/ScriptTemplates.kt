package com.autoclicker.app.util

/**
 * –®–∞–±–ª–æ–Ω—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
 */
object ScriptTemplates {

    data class Template(
        val id: String,
        val name: String,
        val description: String,
        val icon: String,
        val code: String
    )

    val templates = listOf(
        Template(
            id = "basic_loop",
            name = "–ë–∞–∑–æ–≤—ã–π —Ü–∏–∫–ª",
            description = "–ü—Ä–æ—Å—Ç–æ–π —Ü–∏–∫–ª —Å –∫–ª–∏–∫–∞–º–∏",
            icon = "üîÑ",
            code = """// –ë–∞–∑–æ–≤—ã–π —Ü–∏–∫–ª –∫–ª–∏–∫–æ–≤
log("–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω")

while (!EXIT) {
    click(500, 1000)
    sleep(1000)
}

log("–°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à—ë–Ω")"""
        ),

        Template(
            id = "color_wait",
            name = "–û–∂–∏–¥–∞–Ω–∏–µ —Ü–≤–µ—Ç–∞",
            description = "–ñ–¥—ë—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –∏ –∫–ª–∏–∫–∞–µ—Ç",
            icon = "üé®",
            code = """// –û–∂–∏–¥–∞–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∏ –∫–ª–∏–∫
log("–û–∂–∏–¥–∞—é —Ü–≤–µ—Ç...")

while (!EXIT) {
    // –ñ–¥—ë–º –ø–æ—è–≤–ª–µ–Ω–∏—è –∑–µ–ª—ë–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —Ü–≤–µ—Ç)
    if (waitForColor(500, 500, "#00FF00", 5000)) {
        log("–¶–≤–µ—Ç –Ω–∞–π–¥–µ–Ω!")
        click(500, 500)
        sleep(500)
    } else {
        log("–¶–≤–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ–≤—Ç–æ—Ä—è—é...")
    }
    sleep(1000)
}"""
        ),

        Template(
            id = "text_search",
            name = "–ü–æ–∏—Å–∫ —Ç–µ–∫—Å—Ç–∞",
            description = "–ò—â–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ —á–µ—Ä–µ–∑ OCR",
            icon = "üîç",
            code = """// –ü–æ–∏—Å–∫ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
log("–ò—â—É —Ç–µ–∫—Å—Ç...")

while (!EXIT) {
    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
    val text = getText(100, 200, 500, 300)
    log("–ù–∞–π–¥–µ–Ω —Ç–µ–∫—Å—Ç: " + text)
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω—É–∂–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    if (text.contains("–ö–Ω–æ–ø–∫–∞")) {
        log("–¢–µ–∫—Å—Ç –Ω–∞–π–¥–µ–Ω! –ö–ª–∏–∫–∞—é...")
        click(300, 250)
        sleep(1000)
    }
    
    sleep(2000)
}"""
        ),

        Template(
            id = "swipe_scroll",
            name = "–°–≤–∞–π–ø –∏ —Å–∫—Ä–æ–ª–ª",
            description = "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª —Å–ø–∏—Å–∫–∞",
            icon = "üìú",
            code = """// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª
log("–ù–∞—á–∏–Ω–∞—é —Å–∫—Ä–æ–ª–ª...")

var scrollCount = 0
val maxScrolls = 10

while (!EXIT && scrollCount < maxScrolls) {
    // –°–≤–∞–π–ø –≤–≤–µ—Ä—Ö (—Å–∫—Ä–æ–ª–ª –≤–Ω–∏–∑)
    swipe(500, 1500, 500, 500)
    scrollCount = scrollCount + 1
    log("–°–∫—Ä–æ–ª–ª " + scrollCount + "/" + maxScrolls)
    
    sleep(1500)
}

log("–°–∫—Ä–æ–ª–ª –∑–∞–≤–µ—Ä—à—ë–Ω")"""
        ),

        Template(
            id = "random_delay",
            name = "–°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏",
            description = "–ö–ª–∏–∫–∏ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏",
            icon = "üé≤",
            code = """// –ö–ª–∏–∫–∏ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏
log("–°–∫—Ä–∏–ø—Ç —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏")

while (!EXIT) {
    // –°–ª—É—á–∞–π–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –æ–±–ª–∞—Å—Ç–∏
    val x = random(400, 600)
    val y = random(800, 1200)
    
    click(x, y)
    log("–ö–ª–∏–∫ –ø–æ " + x + ", " + y)
    
    // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç 500 –¥–æ 2000 –º—Å
    val delay = random(500, 2000)
    sleep(delay)
}"""
        ),

        Template(
            id = "telegram_notify",
            name = "Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",
            description = "–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram",
            icon = "üì±",
            code = """// –°–∫—Ä–∏–ø—Ç —Å Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
log("–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω")
sendTelegram("üöÄ –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω!")

var counter = 0

while (!EXIT) {
    click(500, 1000)
    counter = counter + 1
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—ã–µ 10 –∫–ª–∏–∫–æ–≤
    if (counter % 10 == 0) {
        sendTelegram("üìä –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∫–ª–∏–∫–æ–≤: " + counter)
    }
    
    sleep(1000)
}

sendTelegram("üõë –°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤: " + counter)"""
        ),

        Template(
            id = "multi_tap",
            name = "–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∞–ø—ã",
            description = "–ë—ã—Å—Ç—Ä—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞–∂–∞—Ç–∏—è",
            icon = "üëÜ",
            code = """// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∞–ø—ã
log("–°–∫—Ä–∏–ø—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–∞–ø–æ–≤")

while (!EXIT) {
    // 5 –±—ã—Å—Ç—Ä—ã—Ö —Ç–∞–ø–æ–≤
    tap(500, 1000, 5)
    log("5 —Ç–∞–ø–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ")
    
    sleep(2000)
    
    // –î–æ–ª–≥–∏–π –∫–ª–∏–∫
    longClick(500, 1000)
    log("–î–æ–ª–≥–∏–π –∫–ª–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω")
    
    sleep(2000)
}"""
        ),

        Template(
            id = "game_farm",
            name = "–ò–≥—Ä–æ–≤–æ–π —Ñ–∞—Ä–º",
            description = "–®–∞–±–ª–æ–Ω –¥–ª—è –∞–≤—Ç–æ—Ñ–∞—Ä–º–∞ –≤ –∏–≥—Ä–∞—Ö",
            icon = "üéÆ",
            code = """// –ò–≥—Ä–æ–≤–æ–π –∞–≤—Ç–æ—Ñ–∞—Ä–º
log("–ê–≤—Ç–æ—Ñ–∞—Ä–º –∑–∞–ø—É—â–µ–Ω")
sendTelegram("üéÆ –ê–≤—Ç–æ—Ñ–∞—Ä–º –∑–∞–ø—É—â–µ–Ω")

var cycles = 0

while (!EXIT) {
    cycles = cycles + 1
    log("–¶–∏–∫–ª #" + cycles)
    
    // 1. –û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é
    click(100, 100)
    sleep(500)
    
    // 2. –í—ã–±—Ä–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
    click(300, 500)
    sleep(1000)
    
    // 3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
    click(500, 800)
    sleep(2000)
    
    // 4. –ó–∞–∫—Ä—ã—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    click(500, 1500)
    sleep(1000)
    
    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 50 —Ü–∏–∫–ª–æ–≤
    if (cycles % 50 == 0) {
        sendTelegram("üîÑ –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ü–∏–∫–ª–æ–≤: " + cycles)
    }
}

sendTelegram("üõë –ê–≤—Ç–æ—Ñ–∞—Ä–º –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –¶–∏–∫–ª–æ–≤: " + cycles)"""
        ),

        Template(
            id = "conditional",
            name = "–£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞",
            description = "–°–∫—Ä–∏–ø—Ç —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ–º",
            icon = "üîÄ",
            code = """// –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
log("–°–∫—Ä–∏–ø—Ç —Å —É—Å–ª–æ–≤–∏—è–º–∏")

var state = 0

while (!EXIT) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ü–≤–µ—Ç –≤ —Ç–æ—á–∫–µ
    val color = getColor(500, 500)
    
    if (compareColor(500, 500, "#FF0000")) {
        // –ö—Ä–∞—Å–Ω—ã–π - —Å–æ—Å—Ç–æ—è–Ω–∏–µ 1
        log("–û–±–Ω–∞—Ä—É–∂–µ–Ω –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç")
        click(500, 500)
        state = 1
    } else if (compareColor(500, 500, "#00FF00")) {
        // –ó–µ–ª—ë–Ω—ã–π - —Å–æ—Å—Ç–æ—è–Ω–∏–µ 2
        log("–û–±–Ω–∞—Ä—É–∂–µ–Ω –∑–µ–ª—ë–Ω—ã–π —Ü–≤–µ—Ç")
        click(600, 600)
        state = 2
    } else {
        // –î—Ä—É–≥–æ–π —Ü–≤–µ—Ç - –∂–¥—ë–º
        log("–û–∂–∏–¥–∞—é –Ω—É–∂–Ω—ã–π —Ü–≤–µ—Ç... –¢–µ–∫—É—â–∏–π: " + color)
    }
    
    sleep(1000)
}"""
        ),

        Template(
            id = "with_functions",
            name = "–° —Ñ—É–Ω–∫—Ü–∏—è–º–∏",
            description = "–°–∫—Ä–∏–ø—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏",
            icon = "üì¶",
            code = """// –°–∫—Ä–∏–ø—Ç —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏

// –§—É–Ω–∫—Ü–∏—è –∫–ª–∏–∫–∞ —Å –ª–æ–≥–æ–º
fun clickWithLog(x, y, name) {
    log("–ö–ª–∏–∫–∞—é: " + name)
    click(x, y)
    sleep(300)
}

// –§—É–Ω–∫—Ü–∏—è –æ–∂–∏–¥–∞–Ω–∏—è –∏ –∫–ª–∏–∫–∞
fun waitAndClick(x, y, color, timeout) {
    if (waitForColor(x, y, color, timeout)) {
        click(x, y)
        return true
    }
    return false
}

// –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
log("–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω")

while (!EXIT) {
    clickWithLog(100, 200, "–ö–Ω–æ–ø–∫–∞ 1")
    clickWithLog(300, 400, "–ö–Ω–æ–ø–∫–∞ 2")
    
    if (waitAndClick(500, 600, "#00FF00", 3000)) {
        log("–£—Å–ø–µ—à–Ω–æ!")
    } else {
        log("–¢–∞–π–º–∞—É—Ç")
    }
    
    sleep(2000)
}"""
        )
    )

    fun getTemplate(id: String): Template? = templates.find { it.id == id }
}
